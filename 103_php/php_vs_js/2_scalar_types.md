; Показываем все ошибки:
error_reporting(E_ALL);


;10 типов дынных     
;JS: 8 типов дынных 

;простые:
    bool
    int
    float (double)
    string
;JS: Boolean, Number, BigInt, String

;смешанные:
    array
    object
    callable
    iterable
;JS:    Object, Symbol

;специальные:
    resource
    NULL
;JS: null, undefined


;Проверка типа:
    var_dump()
    gettype()   ;JS: typeof(x)
    is_nan()    ;JS: isNaN(x) или Number.isNaN(x)
    is_int(), is_bool() и т.д.


--------- Преобразование в булев тип (bool, boolean):

Случаи преобр-я в FALSE:    
    !!null
    !!NaN
    !!0
    !!""
    !!"0"       # В JS здесь - true
    !![]        # В JS здесь - true

    !!" "       # PHP:???  JS: любые непустые строки, даже из пробелов - true!

Явное преобразование: 
    !!$bar                    ;JS: тоже
    settype($bar, "bool")     ;JS: Boolean(value)


--------- Целые числа (int):

$a = 1234;       # 10-ичное
$a = 1_234_567;  # 10-ичное (с PHP 7.4.0)
$a = 0b11111111; # 2-ичное
$a = 0123;       # 8-ричное
$a = 0o123;      # 8-ричное (начиная с PHP 8.1.0)
$a = 0x1A;       # 16-ричное

Макс. значение для 32-битн. платформ примерно равно 2 миллиардам
64-битные платформы - около 9E18
Если число превышает размер типа int, то
оно будет интерп-ся как float
;JS: Диапазон чисел типа 'number': +-(2**53-1)

PHP_INT_SIZE    ; размер int
PHP_INT_MAX     ; макс. значение
PHP_INT_MIN     ; мин. значение
Infinity
;JS: 
Number.EPSILON           # Наименьший интервал между двумя числами
Number.MAX_VALUE         # Наибольшее положительное число
Number.MIN_VALUE         # Самое близкое к нулю положительное число
Number.MAX_SAFE_INTEGER  # Максимальное безопасное целое число (2**53 - 1)
Number.MIN_SAFE_INTEGER  # Минимальное безопасное целое число (-(2**53 - 1))
Infinity
-Infinity

# Перевод из 10-чной сис.счиления в другую:
    decbin(1234);    // обратно: bindec()
    decoct(0o123);   // обратно: octdec()
    dechex(0x1A);    // обратно: hexdec()
;JS:
    number.toString(16)
    123456..toString(16)
    (123456).toString(16)

# Проверяет, является ли значение допустимым конечным числом
is_finite($a)   ;JS: isFinite(a) или Number.isFinite(a)

# Проверяет, является ли значение бесконечным
is_infinite($a) ;JS: if (a === Infinity)

;Явное преобразование: 
    $int2 = +'123'           ;JS: тоже
    $int = (int) '123'
    settype($bar, "bool")    ;JS: Number(value)
    +null       # 0          ;JS: тоже, но undefined преобр. в NaN
    +NaN        # 0
    +Infinity   # 0
; При преобразовании из float в int, число будет округлено в сторону нуля
; Строка преобр. в соотв. число, если содержит число или ведущую числовую последовательность,
;   иначе в 0 (в JS в NaN)
    $int2 = +'123ва'   # 123   ;JS: NaN
    $int2 = +'sd'      # 0     ;JS: NaN

;проверка типа:
    is_int($a)  
;JS: Number.isInteger(a) или Number.isSafeInteger(a)


--------- Числа с плавающей точкой (float, double, real)

$a = 1.234;
$b = 1.2e3;
$c = 7E-10;
$d = 1_234.567; # начиная с PHP 7.4.0

Не доверяйте точности чисел с плавающей точкой до последней цифры.
Если необходима высокая точность, используйте 
математические функции произвольной точности (BC Math) и gmp-функции

Для сравнения чисел с плавающей точкой используют
самую маленькую допустимую разницу при расчётах $epsilon

$a = 1.23456789;
$b = 1.23456780;
$epsilon = 0.00001;

if (abs($a - $b) < $epsilon) {
    echo "true";
}

;Преобразование в float:
;строка аналогично с int
;для отсальных типов - сначала в целое число (int), а затем в float

--------- NaN
Любое строгое или нестрогое сравнение данного значения с 
другим значением, кроме true, включая его самого, возвратит false.
Для определения её наличия необходимо использовать функцию is_nan()

--------- Строка (string) 
Строка может быть определена четырьмя различными способами:

одинарными кавычками (не обрабат-ся управ. последов-ти и переменные)
двойными кавычками   (обрабат-ся управ. последов-ти и переменные)
heredoc-синтаксисом  (многострочный аналог двойных ковычек)
nowdoc-синтаксисом   (многострочный аналог одинарных ковычек)
;JS: 3 вида кавычек: '', "", `` (последние работают как "" в php)

$juice = "apple";
echo "He drank some juice made of $juice.";    # простой синтаксис
echo "He drank some juice made of ${juice}s."; # сложный синтаксис
;JS:    `He drank some juice made of {juice}.`

; heredoc
echo <<<END
      a
     b
    c
\n
END;  # Закрывающий идентификатор (END) не должен иметь отступ больше, 
      # чем любая строка тела (php > 7.3)

; nowdoc (отличие от heredoc в одинарных кавычках вокруг индентификатора возле <<<)
echo <<<'END'
      a
     b
    c
\n
END;

; Доступ к символу в строке и его изменение:
$str[42]
; получить или заменить более 1 символа:
substr()            ;JS: str.substring(), str.slice()
substr_replace()    ;JS: str.replace()

; длина строки
strlen($str)    ;JS:  str.length

Строка считается ЧИСЛОВОЙ, если её можно интерпретировать как 
целое число или как число с плавающей точкой
